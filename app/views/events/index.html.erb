<% content_for :title, "Program" %>

<div class="container">
	<% @events.each do |event| %>
		<div class="row">
			<div class="col-md-11 <%= cycle('col-md-offset-1','', name: 'one') %>">
				<%= link_to event do %>
				<div class="event-images">
					<%= image_tag event.secondary_image.present? ? event.secondary_image.image_url : event.featured_image.image_url, class: 'full_width' %>
					<% if event.secondary_image.present? %>
						<%= image_tag event.featured_image.image_url, class: "featured-image #{cycle('featured-image-right','featured-image-left',name: 'four')}" %>
					<% end %>
				</div>
				<% end %>
				<div class="row content_block">
					<div class="col-md-7 <%= cycle('','col-md-push-5', name: 'two') %>">
						<h1><%= event.title %></h1>
						<p class="excerpt"><%= event.excerpt %></p>
						<%= link_to "Read more", event, class: 'btn btn-lg btn-default hidden-xs' %>
					</div>
					<div class="col-xs-6 visible-xs-block">
						<%= link_to "Read more", event, class: 'btn btn-lg btn-default' %>
					</div>
					<div class="col-md-5 col-xs-6 <%= cycle('','col-md-pull-7', name: 'three') %> event-info">
						<%= render 'event_info', event: event %>
					</div>
				</div>
			</div>
		</div>
	<% end %>
	<% if @events.empty? %>
		<div class="row">
			<div class="col-md-12 text-center">
				<p class="lead">
					No upcomming events. Stay tuned.
				</p>
			</div>
		</div>
	<% end %>
	<% if @previous_events.any? %>
		<div class="row">
			<div class="col-md-10 col-md-offset-1">
				<div class="row">
					<div class="col-md-12 text-center content_block">
						<h2>Previous events</h2>
					</div>
				</div>
				<div class="row">
					<% @previous_events.each do |event| %>
						<div class="col-md-6 event-small">
							<%= render 'event_small', event: event %>
						</div>
					<% end %>
				</div>
			</div>
		</div>
	<% end %>
</div>